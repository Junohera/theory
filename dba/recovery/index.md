[toc]

# Recovery

![Oracle Instance Lifecycle](../assets/Oracle Instance Lifecycle.png)

## ëª©ì 

- ë°ì´í„° ì†ì‹¤ì„ ìµœì†Œí™”í•˜ë©´ì„œ DBMS ê¸°ë™

## ì¥ì•  ìœ í˜•ë³„ ë°©í–¥

|       | physical | logical              |
| ----- | -------- | -------------------- |
| blue  | ì¦‰ì‹œì²˜ë¦¬ | X                    |
| green | X        | ì²˜ë¦¬ í›„, blueë¡œ ì´ê´€ |

## ë³µêµ¬ ë°©ì‹

|           | ë°©ì‹                        | ë°©í–¥                     |           | ë³´ê´€ì¥ì†Œ      |
| --------- | :-------------------------- | ------------------------ | --------- | ------------- |
| flashback | ê³¼ê±°ë¥¼ ë¶ˆëŸ¬ì˜´               | ë¯¸ë˜ì—ì„œ ê³¼ê±°(back)      | flashback | only local    |
| recovery  | archiveíŒŒì¼ë“¤ì„ í•˜ë‚˜ì”© ë¼ì›€ | ê³¼ê±°ì—ì„œ ë¯¸ë˜ë¡œ(forward) | archive   | local, remote |

- ëª¨ë“  ë³µêµ¬ëŠ” ë¶ˆì™„ì „ ë³µêµ¬
- ì‚¬ê³  ë°œìƒì‹œ í•´ë‹¹ ì‹œì ì„ ì •í™•íˆ íŒŒì•…
- ê°œë°œ ë‹¨ê³„ì¼ ê²½ìš°, ì¼ë°˜ì ìœ¼ë¡œ ë³µêµ¬ë¥¼ ì•ˆí•˜ëŠ” ì •ì±…ìœ ì§€
  ë‹¨, ê°œë°œí•˜ëŠ”ë°ì— ì§€ì¥ì´ í¬ê²Œ ì˜¤ëŠ” ê²½ìš° ì˜ˆì™¸ì ìœ¼ë¡œ í˜‘ì˜í•˜ì— ë³µêµ¬ ì§€ì›
- language ë³„ ë³µêµ¬ ì»¨ì…‰

  - dml

    - just rollback

  - ddl

    - ë‹¨ìˆœ íšŒê·€

      - rollback datafile -> ë³µêµ¬

      - rest logs -> openì„ ìœ„í•œ ë¡œê·¸ ë‹¤ìš´ê·¸ë ˆì´ë“œ

      - open

    - for almost ì™„ì „ ë³µêµ¬

      - ì‹œì ë³µêµ¬
      - archivelog ì ìš©
      - redo fileì— ê¸°ë¡ëœ ë‚´ìš© recovery
      - ...?

- ë³µêµ¬ ë°©ë²•
  - flashback: from future to past
  - archive: from past to future

---

ğŸ’Š íŒŒì¼ ìˆ˜ì • í›„, saveí•˜ëŠ” í–‰ìœ„ë¥¼ databaseì—ì„œëŠ” **log switch**âœ¨
