[toc]

# Datafile Recovery



## Database Recovery

### offline fullbackup restore / recover

DB shutdown 후, 모든 file(control, redo, datafile)을 백업했다면
이 모든 파일들이 시점 일치하므로 restore 후 바로 open 가능

만약 장애 복구시

offline 백업본 중, controlfile을 restore하면 복구시점을 controlfile이 가지므로 현재 시점까지 복구 진행 불가
=> 불완전 복구 시도시 controlfile은 restore 대상이 아님

### datafile restore / recover

현재 control, redolog file은 마지막 시점을 알고 있는 상태, 
원하는 시점으로의 복구를 위해 아카이브 적용 목적이라면 controlfile 기준에서 logfile을 믿지않을 경우, archive파일을 적용할
✅**datafile만 restore** 진행,
	datafile이 갖는 scn과 controlfile이 갖는 scn의 차이만큼 복구 진행

	1) until cancel : 사용자가 cancel하거나, 계속 아카이브를 적용하다 더 이상 불가능한 상태 직전까지의 복구를 목적
	1) until time: 복구 시점을 정확히 알 때

