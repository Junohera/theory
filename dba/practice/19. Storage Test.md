[toc]

# Storage Test

## Practice

### 1. í†µê³„ì •ë³´ ê°±ì‹ 

```sql
-- 1) analyze
-- 2) exec
```

### 2. block ìˆ˜ ë° í…Œì´ë¸” ì‚¬ì´ì¦ˆ í™•ì¸

```sql
select table_name,
			 num_rows,
			 blocks, empty_blocks
	from dba_tables
 where table_name like 'STORAGE_TEST%';
 
 select segment_name, owner, bytes/1024/1024 as "SIZE(MB)"
  from dba_segments
 where segment_name like 'STORAGE_TEST%';
```

### 3. delete, truncate ìˆ˜í–‰

```sql
delete from storage_test1;
truncate table storage_test1;
```

### 4. í†µê³„ì •ë³´ ê°±ì‹ 

```sql
-- 1) analyze
-- 2) exec
```

### 5. block ìˆ˜ ë° í…Œì´ë¸” ì‚¬ì´ì¦ˆ í™•ì¸

```sql
select table_name,
			 num_rows,
			 blocks, empty_blocks
	from dba_tables
 where table_name like 'STORAGE_TEST%';
 
 select segment_name, owner, bytes/1024/1024 as "SIZE(MB)"
  from dba_segments
 where segment_name like 'STORAGE_TEST%';
```

## ğŸìœ ìš©í•œ ì¿¼ë¦¬

### í…Œì´ë¸” ì‚¬ì´ì¦ˆ ì¡°íšŒ

> describe table size

```sql
-- í…Œì´ë¸” ì‚¬ì´ì¦ˆ ì¡°íšŒ
select segment_name, owner, bytes/1024/1024 as "SIZE(MB)"
  from dba_segments
 where segment_name like 'STORAGE_TEST%';
 
-- í…Œì´ë¸” ë¸”ë¡ìˆ˜ ì¡°íšŒ
select table_name,
			 num_rows,
			 blocks, empty_blocks
	from dba_tables
 where table_name like 'STORAGE_TEST%';
```

## íŠ¹ì • í…Œì´ë¸”ì— ì—°ê´€ëœ ì¸ë±ìŠ¤ ì¡°íšŒ

> í…Œì´ë¸”ë³„ ì‚¬ì´ì¦ˆ ë° ì—°ê´€ëœ ì¸ë±ìŠ¤ ì‚¬ì´ì¦ˆ í˜„í™© ì¡°ì‚¬í•  ê²½ìš°
>
> dba_segments, dba_indexes

- [ ] TODO: ë‹¤ìŒì˜ ê²°ê³¼ê°€ ë‚˜ì˜¤ë„ë¡ í…Œì´ë¸”ë³„ ì‚¬ì´ì¦ˆ ë° ì—°ê´€ ì¸ë±ìŠ¤ í˜„í™© ì¡°ì‚¬ ì¿¼ë¦¬ ì‘ì„±

| owner | table_name | table_size(MB) | index count | index size(MB) |
| ----- | ---------- | -------------- | ----------- | -------------- |
| scott | emp        | 10             | 0           | 0m             |
| scott | dept       | 50             | 3           | 60m            |
|       |            |                |             |                |