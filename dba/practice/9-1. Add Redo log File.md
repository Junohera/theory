# Add Redo log File

## ì‹œë‚˜ë¦¬ì˜¤

- [ ] pfile ë°±ì—…
- [ ] spfile ê¸°ë°˜ pfile ìƒì„±
- [ ] log file í™•ì¸
- [ ] ê·¸ë£¹ ì¶”ê°€(ê¸°ë³¸ ë©¤ë²„ì™€ í•¨ê»˜)
- [ ] ì¶”ê°€ í™•ì¸(ë¬¼ë¦¬ í¬í•¨)
- [ ] member ë‹¤ì¤‘í™”

## êµ¬í˜„

- [x] pfile ë°±ì—…

```shell
cd ${ORACLE_HOME}/dbs
cp initdb1.ora initdb1.ora.back_$(date +"%Y-%m-%d_%H:%M:%S")
cp spfiledb1.ora spfiledb1.ora.back_$(date +"%Y-%m-%d_%H:%M:%S")
```

- [x] spfile ê¸°ë°˜ pfile ìƒì„±

```sql
create pfile from spfile;
```

- [x] log file í™•ì¸

```sql
select a.group#,
       a.member,
       b.bytes/1024/1024 MB,
       b.archived,
       b.status
from   v$logfile a,
       v$log b
where  a.group# = b.group#
order by 1, 2;
```

- [x] ê·¸ë£¹ ì¶”ê°€(ê¸°ë³¸ ë©¤ë²„ì™€ í•¨ê»˜)

```sql
alter database add logfile group 4
'/oracle12/app/oracle/oradata/db1/redo04.log' size 200M;
```

- [x] ì¶”ê°€ í™•ì¸(ë¬¼ë¦¬ í¬í•¨)

```sql
select * from v$logfile;
```

- [ ] member ë‹¤ì¤‘í™”

> ğŸ’Šê¸°ì¡´ ë©¤ë²„ë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ë¯€ë¡œ ê¸°ì¡´ ë©¤ë²„ì˜ í¬ê¸°ì— ë”°ë¼ ì‹œê°„ ì†Œìš” ë°œìƒí•˜ê³ 
> CURRENTìƒíƒœì˜ ê·¸ë£¹ì¼ ê²½ìš°, REDO LOG BUFFERì—ì„œ REDO LOG FILEë¡œ ë‚´ë ¤ì“°ëŠ” í–‰ìœ„ê°€ ë©ˆì¶°ë²„ë¦¼.
>
> ê·¸ëŸ¬ë¯€ë¡œ, **ì‹¤ì œ ìš´ì˜ì‹œ CURRENTìƒíƒœì˜ REDO LOG ê·¸ë£¹ì— ë©¤ë²„ì¶”ê°€ëŠ” í•˜ì§€ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.**

```sql
alter database add logfile member 
'/oracle12/app/oracle/oradata/db1/redo01_2.log' to group 1;
alter database add logfile member 
'/oracle12/app/oracle/oradata/db1/redo02_2.log' to group 2;
alter database add logfile member 
'/oracle12/app/oracle/oradata/db1/redo03_2.log' to group 3;
alter database add logfile member 
'/oracle12/app/oracle/oradata/db1/redo04_2.log' to group 4;
```

