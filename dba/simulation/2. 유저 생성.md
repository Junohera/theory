# ë°ì´í„°ë² ì´ìŠ¤ ì—…ë¬´ ìš´ì˜ ì‹œ ë‹¤ìŒì˜ ìš”ì²­ì— ëŒ€í•´ ì§€ì›

## case

1. ì—…ë¬´ì  ì‚¬ìš© ëª©ì ìœ¼ë¡œ ê³µìš© ìœ ì €(itwill) ìƒì„± 
   itwill ìœ ì €ì—ëŠ” ìµœëŒ€ 10ëª…ì˜ ë™ì‹œ ì ‘ì†ì„ í—ˆìš©í•˜ë©°
   session idle timeì€ 1ì‹œê°„ìœ¼ë¡œ ì„¤ì •,
   íŒ¨ìŠ¤ì›Œë“œ ìœ íš¨ê¸°ê°„ì€ 30ì¼,
   íŒ¨ìŠ¤ì›Œë“œ ì‹œë„ íšŒìˆ˜ëŠ” 3íšŒë¡œ ê´€ë¦¬í•˜ë©°
   verify_functionìœ¼ë¡œ íŒ¨ìŠ¤ì›Œë“œ ê·œì¹™ì„ ì ìš©í•œë‹¤

2. itwill ìœ ì €ëŠ” itwill ì´ë¦„ì˜ tablespaceë‚´ table ìƒì„±í•˜ê³ ì í•œë‹¤
   (storage ì˜µì…˜ì€ default, 
    3ê°œì˜ datafileë¡œ êµ¬ì„±, ëª¨ë‘ extensible offì´ë©° ê° ì‚¬ì´ì¦ˆëŠ” 100Më¡œ í†µì¼)
   ì‹¤ì œ í•´ë‹¹ ìœ ì €ëŠ” table ìƒì„± ë° ì‚­ì œ ê¶Œí•œì´ í•„ìš”í•¨

3. itwill ìœ ì €ëŠ” scott ìœ ì €ì˜ emp í…Œì´ë¸”ì— ëŒ€í•´ ì¡°íšŒ í•„ìš”
   (ì¡°íšŒ ê¶Œí•œ ë° ì‹œë…¸ë‹˜ ìƒì„±)

4. itwill ìœ ì € ì†Œìœ ì˜ empì™€ ë™ì¼í•œ í…Œì´ë¸”ì„ ìƒì„±

5. orcl(window DB)ì˜ dept í…Œì´ë¸”ê³¼ ì¡°ì¸ì´ ê°€ëŠ¥í•˜ë„ë¡ ì—…ë¬´ ì§€ì›;

---

## impl

```sql
-- 1. í”„ë¡œí•„ ìƒì„±
create profile itwill_profile limit
SESSIONS_PER_USER 10
IDLE_TIME 3600
PASSWORD_LIFE_TIME 30
FAILED_LOGIN_ATTEMPTS 3
PASSWORD_VERIFY_FUNCTION verify_function;

-- 2. í”„ë¡œí•„ ìƒì„± í™•ì¸
select *
  from dba_profiles
 where profile = 'ITWILL_PROFILE';

-- 3. ìœ ì € ìƒì„±
create user itwill identified by "1q2w3e4r!@"
default tablespace users
temporary tablespace temp
profile itwill_profile;

-- 4. í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ìƒì„±
-- ğŸ™‚ good(cause too slow)
create tablespace itwill
       datafile '/oracle12/app/oracle/oradata/db1/itwill_01.dbf' size 100m autoextend off,
                '/oracle12/app/oracle/oradata/db1/itwill_02.dbf' size 100m autoextend off,
                '/oracle12/app/oracle/oradata/db1/itwill_03.dbf' size 100m autoextend off;
-- ğŸ˜€ best
create tablespace itwill datafile '/oracle12/app/oracle/oradata/db1/itwill_01.dbf' size 100m autoextend off;
alter tablespace itwill add datafile '/oracle12/app/oracle/oradata/db1/itwill_02.dbf' size 100m autoextend off;
alter tablespace itwill add datafile '/oracle12/app/oracle/oradata/db1/itwill_03.dbf' size 100m autoextend off;

-- 5. í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì¡°íšŒ
select tablespace_name,
       file_name,
       bytes/1024/1024 as "size(MB)",
       autoextensible,
       status,
       online_status
  from dba_data_files
 where tablespace_name = upper('itwill');
 
-- 6. ì‹¤ì œ í•´ë‹¹ ìœ ì €ëŠ” table ìƒì„± ë° ì‚­ì œ ê¶Œí•œì´ í•„ìš”í•¨
-- session, table
grant create session to itwill;
grant create any table, drop any table to itwill;
-- tablespace, quota
alter user itwill default tablespace itwill;
alter user itwill quota unlimited on itwill;

-- 7. scott.empì— ëŒ€í•´ ì¡°íšŒ ê¶Œí•œ ë° ì‹œë…¸ë‹˜ ìƒì„±
grant select on scott.emp to itwill;
create public synonym SYN_EMP for scott.emp;
-- ğŸ”¥ íŠ¹ì • ìœ ì €ë§Œì„ ìœ„í•œ ì‹œë…¸ë‹˜ ìƒì„±. create synonym itwill.SYN_EMP for scott.emp;

-- 8. itwill ìœ ì € ì†Œìœ ì˜ empì™€ ë™ì¼í•œ í…Œì´ë¸”ì„ ìƒì„±(CTAS)
create table itwill.emp as
select * from SYN_EMP;

select owner, tablespace_name, segment_name
  from dba_extents
 where segment_name = 'EMP'
   and owner = 'ITWILL';

-- 9. orcl(window DB)ì˜ dept í…Œì´ë¸”ê³¼ ì¡°ì¸ì´ ê°€ëŠ¥í•˜ë„ë¡ ì—…ë¬´ ì§€ì›;
create public database link WINDOW_ORCL
connect to system identified by oracle using 'LINK_01';

create public synonym SYN_DEPT for scott.dept@WINDOW_ORCL;

-- 10. ì—…ë¬´
select e.empno,
       e.ename,
       e.deptno,
       d.dname
  from SYN_EMP e, SYN_DEPT d
 where e.deptno = d.deptno;
 
|EMPNO|ENAME |DEPTNO|DNAME     |
|-----|------|------|----------|
|7,782|CLARK |10    |ACCOUNTING|
|10   |KING  |10    |ACCOUNTING|
|7,934|MILLER|10    |ACCOUNTING|
|7,369|SMITH |20    |RESEARCH  |
|7,566|JONES |20    |RESEARCH  |
|7,788|SCOTT |20    |RESEARCH  |
|7,876|ADAMS |20    |RESEARCH  |
|7,902|FORD  |20    |RESEARCH  |
|7,499|ALLEN |30    |SALES     |
|7,521|WARD  |30    |SALES     |
|7,654|MARTIN|30    |SALES     |
|7,698|BLAKE |30    |SALES     |
|7,844|TURNER|30    |SALES     |
|7,900|JAMES |30    |SALES     |
```



