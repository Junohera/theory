# 2. Export - Schema

스키마 생성

```sql
💙
-- 0. 테스트 테이블스페이스 생성
create tablespace ts_test1 datafile '/oracle12/app/oracle/oradata/db1/ts_test1_01.dbf' size 50m;
-- 1. 테스트 유저 생성
create user tuser identified by oracle
default tablespace ts_test1
quota unlimited on ts_test1
quota 50m on system;
grant create session to tuser;
grant create synonym to tuser;
-- 2. 테스트 유저 소유 테이블 / 오브젝트 생성
1) table 3개
create table tuser.test1 (no number, name varchar2(10));
create table tuser.test2 (no number, name varchar2(10));
create table tuser.test3 (no number, name varchar2(10));
2) index 1개
create index tuser.idx_test1_name on tuser.test1(name);
create index tuser.idx_test2_name on tuser.test2(name);
create index tuser.idx_test3_name on tuser.test3(name);
3) private synonym 1개씩(at tuser session)
create synonym t1 for tuser.test1;
create synonym t2 for tuser.test2;
create synonym t3 for tuser.test3;
4) 테스트 유저가 본인 소유의 테이블 조회권한을 scott계정에 부여(at tuser session)
grant select on tuser.test1 to scott;
grant select on tuser.test2 to scott;
grant select on tuser.test3 to scott;
```

스키마 단위 export

```shell
exp system/oracle file=exp_test_schema.dmp owner=tuser
```

스키마 단위 import

```shell
local
💙scp exp_test_schema.dmp oracle@172.16.192.131:/home/oracle/exp
💚imp system/oracle file=exp_test_schema.dmp log=exp_test_schema.log fromuser=tuser full=y
remote
💙imp system/oracle@green_db1 file=exp_test_schema.dmp log=exp_test_schema.log fromuser=tuser full=y
```

